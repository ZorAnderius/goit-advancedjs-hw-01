{"version":3,"file":"commonHelpers3.js","sources":["../src/js/03-feedback.js"],"sourcesContent":["import throttle from \"lodash.throttle\";\n\nconst LOCAL_KEY = 'feedback-form-state';\nconst lodash_time = 500;\n\nconst refs = {\n    formEl: document.querySelector('.feedback-form'),\n    emailInput: document.querySelector('input[name=\"email\"]'),\n    messageInput: document.querySelector('textarea[name=\"message\"]'),\n}\n\nlet feedback = JSON.parse(localStorage.getItem(LOCAL_KEY)) || {};\nrefs.emailInput.value = feedback.email || '';\nrefs.messageInput.value = feedback.message || '';\n\nconst handlerInput = e => { \n    const { name, value } = e.target;\n    feedback = JSON.parse(localStorage.getItem(LOCAL_KEY)) || {};\n    feedback[name] = value;\n    localStorage.setItem(LOCAL_KEY, JSON.stringify(feedback));\n}\n\nconst handlerSubmit = e => {\n    e.preventDefault();\n    feedback = JSON.parse(localStorage.getItem(LOCAL_KEY)) || {};\n    console.log(feedback);\n    localStorage.removeItem(LOCAL_KEY);\n    refs.formEl.reset();\n}\n\nrefs.formEl.addEventListener('input', throttle(handlerInput, lodash_time));\nrefs.formEl.addEventListener('submit', handlerSubmit);"],"names":["LOCAL_KEY","lodash_time","refs","feedback","handlerInput","e","name","value","handlerSubmit","throttle"],"mappings":"wIAEA,MAAMA,EAAY,sBACZC,EAAc,IAEdC,EAAO,CACT,OAAQ,SAAS,cAAc,gBAAgB,EAC/C,WAAY,SAAS,cAAc,qBAAqB,EACxD,aAAc,SAAS,cAAc,0BAA0B,CACnE,EAEA,IAAIC,EAAW,KAAK,MAAM,aAAa,QAAQH,CAAS,CAAC,GAAK,GAC9DE,EAAK,WAAW,MAAQC,EAAS,OAAS,GAC1CD,EAAK,aAAa,MAAQC,EAAS,SAAW,GAE9C,MAAMC,EAAeC,GAAK,CACtB,KAAM,CAAE,KAAAC,EAAM,MAAAC,GAAUF,EAAE,OAC1BF,EAAW,KAAK,MAAM,aAAa,QAAQH,CAAS,CAAC,GAAK,GAC1DG,EAASG,CAAI,EAAIC,EACjB,aAAa,QAAQP,EAAW,KAAK,UAAUG,CAAQ,CAAC,CAC5D,EAEMK,EAAgBH,GAAK,CACvBA,EAAE,eAAc,EAChBF,EAAW,KAAK,MAAM,aAAa,QAAQH,CAAS,CAAC,GAAK,GAC1D,QAAQ,IAAIG,CAAQ,EACpB,aAAa,WAAWH,CAAS,EACjCE,EAAK,OAAO,OAChB,EAEAA,EAAK,OAAO,iBAAiB,QAASO,EAASL,EAAcH,CAAW,CAAC,EACzEC,EAAK,OAAO,iBAAiB,SAAUM,CAAa"}