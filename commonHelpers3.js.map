{"version":3,"file":"commonHelpers3.js","sources":["../src/js/03-feedback.js"],"sourcesContent":["import throttle from \"lodash.throttle\";\n\nconst LOCAL_KEY = 'feedback-form-state';\nconst lodash_time = 500;\n\nconst refs = {\n    formEl: document.querySelector('.feedback-form'),\n    emailInput: document.querySelector('input[name=\"email\"]'),\n    messageInput: document.querySelector('textarea[name=\"message\"]'),\n}\n\nconst handlerInput = e => { \n    const { name, value } = e.target;\n    const feedback = JSON.parse(localStorage.getItem(LOCAL_KEY)) || {};\n    feedback[name] = value;\n    localStorage.setItem(LOCAL_KEY, JSON.stringify(feedback));\n}\n\nconst handlerSubmit = e => {\n    e.preventDefault();\n    const feedback = JSON.parse(localStorage.getItem(LOCAL_KEY)) || {};\n    console.log(feedback);\n    localStorage.removeItem(LOCAL_KEY);\n    refs.formEl.reset();\n}\nconst feedback = JSON.parse(localStorage.getItem(LOCAL_KEY)) || {};\nrefs.emailInput.value = feedback.email || '';\nrefs.messageInput.value = feedback.message || '';\n\nrefs.formEl.addEventListener('input', throttle(handlerInput, lodash_time));\nrefs.formEl.addEventListener('submit', handlerSubmit);\n"],"names":["LOCAL_KEY","lodash_time","refs","handlerInput","e","name","value","feedback","handlerSubmit","throttle"],"mappings":"wIAEA,MAAMA,EAAY,sBACZC,EAAc,IAEdC,EAAO,CACT,OAAQ,SAAS,cAAc,gBAAgB,EAC/C,WAAY,SAAS,cAAc,qBAAqB,EACxD,aAAc,SAAS,cAAc,0BAA0B,CACnE,EAEMC,EAAeC,GAAK,CACtB,KAAM,CAAE,KAAAC,EAAM,MAAAC,GAAUF,EAAE,OACpBG,EAAW,KAAK,MAAM,aAAa,QAAQP,CAAS,CAAC,GAAK,GAChEO,EAASF,CAAI,EAAIC,EACjB,aAAa,QAAQN,EAAW,KAAK,UAAUO,CAAQ,CAAC,CAC5D,EAEMC,EAAgBJ,GAAK,CACvBA,EAAE,eAAc,EAChB,MAAMG,EAAW,KAAK,MAAM,aAAa,QAAQP,CAAS,CAAC,GAAK,GAChE,QAAQ,IAAIO,CAAQ,EACpB,aAAa,WAAWP,CAAS,EACjCE,EAAK,OAAO,OAChB,EACMK,EAAW,KAAK,MAAM,aAAa,QAAQP,CAAS,CAAC,GAAK,GAChEE,EAAK,WAAW,MAAQK,EAAS,OAAS,GAC1CL,EAAK,aAAa,MAAQK,EAAS,SAAW,GAE9CL,EAAK,OAAO,iBAAiB,QAASO,EAASN,EAAcF,CAAW,CAAC,EACzEC,EAAK,OAAO,iBAAiB,SAAUM,CAAa"}